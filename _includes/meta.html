<!-- Primary Meta Tags -->
<meta charset="UTF-8">
<meta content="text/html; charset=utf-8" http-equiv="Content-Type">

{%- if page.title -%}
    <title>{{ page.title | escape }}</title>
{%- else -%}
    <title>{{ site.title | escape }}</title>
{%- endif -%}
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="description" content="{{site.description}}">
<meta name="generator" content="Jekyll (using style of GitBook)">
<meta name="author" content="{{ site.author }}">

{%- if site.google_analytics_token -%}
    <meta name="google-analytics" content="{{ site.google_analytics_token }}">
{%- endif -%}

<link rel="stylesheet" href="{{ site.baseurl }}/assets/gitbook/style.css">
<link rel="stylesheet" href="{{ site.baseurl }}/assets/gitbook/gitbook-plugin-fontsettings/website.css">
<link rel="stylesheet" href="{{ site.baseurl }}/assets/gitbook/gitbook-plugin-search-pro/search.css">
<link rel="stylesheet" href="{{ site.baseurl }}/assets/gitbook/gitbook-plugin-back-to-top-button/plugin.css">

<link rel="stylesheet" href="{{ site.baseurl }}/assets/gitbook/rouge/{{ site.syntax_highlighter_style }}.css">

<link rel="stylesheet" href="{{ site.baseurl }}/assets/gitbook/custom.css">
<link rel="stylesheet" href="{{ site.baseurl }}/assets/gitbook/custom-local.css">

<meta name="HandheldFriendly" content="true"/>
<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<link rel="apple-touch-icon-precomposed" sizes="152x152" href="{{ site.baseurl }}/assets/gitbook/images/apple-touch-icon-precomposed-152.png">
<link rel="shortcut icon" href="{{ site.baseurl }}/assets/gitbook/images/favicon.ico" type="image/x-icon">

{% if page.canonical_url %}
    <link rel="canonical" href="{{ page.canonical_url }}">
{% else %}
    <link rel="canonical" href="{{ site.url }}{{ page.url | replace:'index.html','' }}">
{% endif %}

<!-- Add Open Graph meta tags for better social sharing -->
<meta property="og:title" content="{% if page.title %}{{ page.title | escape }}{% else %}{{ site.title | escape }}{% endif %}">
<meta property="og:description" content="{% if page.excerpt %}{{ page.excerpt | strip_html | strip_newlines | truncate: 160 }}{% else %}{{ site.description }}{% endif %}">
<meta property="og:site_name" content="{{ site.title }}">
<meta property="og:url" content="{{ site.url }}{{ page.url | replace:'index.html','' }}">
<meta property="og:locale" content="vi_VN">
<meta property="og:type" content="website">
<meta property="og:image" content="{{ site.url }}{{ site.baseurl }}/assets/images/og-image.jpg">

<!-- Twitter Card meta tags -->
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="{% if page.title %}{{ page.title | escape }}{% else %}{{ site.title | escape }}{% endif %}">
<meta name="twitter:description" content="{% if page.excerpt %}{{ page.excerpt | strip_html | strip_newlines | truncate: 160 }}{% else %}{{ site.description }}{% endif %}">
<meta name="twitter:image" content="{{ site.url }}{{ site.baseurl }}/assets/images/og-image.jpg">

<!-- Font Awesome -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

<style>
    /* Hide the duplicate title that appears at the top of pages */
    .page-inner .markdown-section > h1:first-child {
        display: none;
    }
    
    /* Also hide the paragraph that might follow the first h1 if it's just a description */
    .page-inner .markdown-section > h1:first-child + p {
        display: none;
    }
</style>

<!-- Language Alternates -->
{% if page.alternates %}
  {% for alternate in page.alternates %}
    <link rel="alternate" hreflang="{{ alternate.lang }}" href="{{ alternate.url | absolute_url }}">
  {% endfor %}
{% endif %}

<!-- Structured Data -->
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "{% if page.layout == 'post' %}Article{% else %}WebPage{% endif %}",
  "headline": "{% if page.title %}{{ page.title }}{% else %}{{ site.title }}{% endif %}",
  "description": "{% if page.description %}{{ page.description }}{% else %}{{ site.description | strip_html | strip_newlines }}{% endif %}",
  "image": "{% if page.image %}{{ page.image | absolute_url }}{% else %}{{ '/assets/gitbook/images/social-share.jpg' | absolute_url }}{% endif %}",
  {% if page.layout == 'post' %}
  "datePublished": "{{ page.date | date_to_xmlschema }}",
  "dateModified": "{% if page.last_modified_at %}{{ page.last_modified_at | date_to_xmlschema }}{% else %}{{ page.date | date_to_xmlschema }}{% endif %}",
  "author": {
    "@type": "Person",
    "name": "{{ page.author | default: site.author.name }}"
  },
  {% endif %}
  "publisher": {
    "@type": "Organization",
    "name": "{{ site.title }}",
    "logo": {
      "@type": "ImageObject",
      "url": "{{ '/assets/gitbook/images/logo.png' | absolute_url }}"
    }
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "{{ page.url | absolute_url }}"
  }
}
</script>

<script>
  document.addEventListener('DOMContentLoaded', function() {
    // Fix for mobile sidebar close button
    const closeButton = document.querySelector('.book-header .js-toolbar-action');
    if (closeButton) {
      closeButton.addEventListener('click', function(e) {
        e.preventDefault();
        document.body.classList.toggle('with-summary');
      });
    }
    
    // Existing code for search functionality
    // ... existing code ...
  });
</script> 